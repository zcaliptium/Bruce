#ifndef __ESP_SERIAL_CMD_H__
#define __ESP_SERIAL_CMD_H__

#include "esp_connection.h"

class EspSerialCmd : public EspConnection {
public:
    enum AppMode {
        APP_MODE_CMDSSEND,
        APP_MODE_CMDSRECV,
    };

    /////////////////////////////////////////////////////////////////////////////////////
    // Constructor
    /////////////////////////////////////////////////////////////////////////////////////
    EspSerialCmd();

    /////////////////////////////////////////////////////////////////////////////////////
    // Operations
    /////////////////////////////////////////////////////////////////////////////////////
    void sendCommands();
    void receiveCommands();

private:
    String rxCommand;

    /////////////////////////////////////////////////////////////////////////////////////
    // Helpers
    /////////////////////////////////////////////////////////////////////////////////////
    void displayBanner(AppMode mode);

    void displaySentStatus(const char *command, bool success);
    void displayRecvStatus(bool received, bool executed);

    Message createCmdMessage();
};

#endif
